(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8256bfe"],{"2e08":function(e,t,r){var a=r("9def"),i=r("9744"),n=r("be13");e.exports=function(e,t,r,o){var s=String(n(e)),l=s.length,c=void 0===r?" ":String(r),d=a(t);if(d<=l||""==c)return s;var u=d-l,p=i.call(c,Math.ceil(u/c.length));return p.length>u&&(p=p.slice(0,u)),o?p+s:s+p}},"35bd":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal fade show modal-bg",class:{"modal-bg--show":e.isActive}},[r("div",{staticClass:"modal-dialog modal-dialog-centered row pt-5"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title text-center"},[e._v("Patient details")]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return e.toggleModal()}}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),r("form",{staticClass:"form-group ml-2 mr-2",attrs:{id:"patient-details",role:"form"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.patientInfo.id,expression:"patientInfo.id"}],attrs:{type:"hidden"},domProps:{value:e.patientInfo.id},on:{input:function(t){t.target.composing||e.$set(e.patientInfo,"id",t.target.value)}}}),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.patientInfo.first_name.$error}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.patientInfo.first_name,expression:"patientInfo.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",id:"first_name",required:"",placeholder:"First Name",value:""},domProps:{value:e.patientInfo.first_name},on:{input:function(t){t.target.composing||e.$set(e.patientInfo,"first_name",t.target.value)}}}),e.$v.patientInfo.first_name.required?e._e():r("div",{staticClass:"form-group__message--error"},[e._v("First name is required.")])]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.patientInfo.last_name.$error}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.patientInfo.last_name,expression:"patientInfo.last_name"}],staticClass:"form-control",attrs:{type:"text",name:"last_name",id:"last_name",required:"",placeholder:"Last Name",value:""},domProps:{value:e.patientInfo.last_name},on:{input:function(t){t.target.composing||e.$set(e.patientInfo,"last_name",t.target.value)}}}),e.$v.patientInfo.last_name.required?e._e():r("div",{staticClass:"form-group__message--error"},[e._v("Last name is required.")])]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.patientInfo.date_of_birth.$error}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.patientInfo.date_of_birth,expression:"patientInfo.date_of_birth"}],staticClass:"form-control",attrs:{type:"date",name:"date_of_birth",id:"date_of_birth",required:"",placeholder:"Date Of Birth",value:""},domProps:{value:e.patientInfo.date_of_birth},on:{input:function(t){t.target.composing||e.$set(e.patientInfo,"date_of_birth",t.target.value)}}}),e.$v.patientInfo.date_of_birth.required?e._e():r("div",{staticClass:"form-group__message--error"},[e._v("Date of birth is required.")])]),r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.patientInfo.email,expression:"patientInfo.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",required:"",placeholder:"Email Address",value:""},domProps:{value:e.patientInfo.email},on:{input:function(t){t.target.composing||e.$set(e.patientInfo,"email",t.target.value)}}}),e.$v.patientInfo.email.required?e._e():r("div",{staticClass:"form-group__message--error"},[e._v("Email address is required.")]),e.$v.patientInfo.email.email?e._e():r("div",{staticClass:"form-group__message--error"},[e._v("Please, type a valid email.")])]),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.patientInfo.gender.$error}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.patientInfo.gender,expression:"patientInfo.gender"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.patientInfo,"gender",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select patient gender")]),r("option",{attrs:{value:"Female"}},[e._v("Female")]),r("option",{attrs:{value:"Male"}},[e._v("Male")]),r("option",{attrs:{value:"Another"}},[e._v("Another")])]),e.$v.patientInfo.gender.required?e._e():r("div",{staticClass:"form-group__message--error"},[e._v("Patient gender is required.")])]),e._m(0),r("div",{staticClass:"form-group",class:{"form-group--error":e.$v.patientInfo.practice_centre_id.$error}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.patientInfo.practice_centre_id,expression:"patientInfo.practice_centre_id"}],attrs:{name:"",id:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.patientInfo,"practice_centre_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select practice centre")]),e._l(e.practices,(function(t,a){return r("option",{key:a,domProps:{value:t.name}},[e._v(e._s(t.name))])}))],2),0===e.practices.length?r("span",{staticClass:"bg-warning ml-1"},[e._v("You should add practice before continue")]):e._e(),e.$v.patientInfo.practice_centre_id.required?e._e():r("div",{staticClass:"form-group__message--error"},[e._v("Practice centre is required.")])]),"edit"===e.acl?r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-success",staticStyle:{width:"100%"},attrs:{disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.savePatient(e.patientInfo)}}},[e.isLoading?r("i",{staticClass:"fa fa-spinner fa-spin"}):e._e(),e._v("\n              Save Patient\n            ")])]):e._e()])])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[r("input",{staticClass:"form-control",attrs:{type:"file",name:"profile_picture",id:"profile_picture",required:"",placeholder:"Profile Picture",value:""}})])}],n=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),o=r("d3e3"),s=r("2f62"),l=r("f7d7"),c=r("b5ae");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={name:"DentistPatientModal",props:{acl:{type:String,required:!0,default:"view"}},data:function(){return{isActive:!1,isLoading:!1}},validations:{patientInfo:{first_name:{required:c["required"]},last_name:{required:c["required"]},date_of_birth:{required:c["required"]},email:{required:c["required"],email:c["email"]},gender:{required:c["required"]},practice_centre_id:{required:c["required"]}}},computed:u({},Object(s["c"])(["patientInfo","currentUserId","practices"])),methods:{savePatient:function(e){if(this.$v.$touch(),!this.$v.$invalid){this.isLoading=!0;var t=this._isNew(e);if(t){var r=Object(l["a"])(),a=this.currentUserId;e=u({},e,{RegistrationDate:r,dentistId:a,Status:"Active"}),this.$store.dispatch("ADD_PATIENT",e)}else this.$store.dispatch("EDIT_PATIENT",e);this.isLoading=!1,this.toggleModal()}},_isNew:function(e){return"undefined"===typeof e.id},toggleModal:function(){this.isActive=!this.isActive}},mounted:function(){var e=this;o["a"].$on("PATIENT_MODAL",(function(t){"undefined"!==typeof t&&(e.acl=t),e.toggleModal()}))},created:function(){this.isActive=!1}},f=p,m=r("2877"),v=Object(m["a"])(f,a,i,!1,null,null,null);t["default"]=v.exports},9744:function(e,t,r){"use strict";var a=r("4588"),i=r("be13");e.exports=function(e){var t=String(i(this)),r="",n=a(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},f576:function(e,t,r){"use strict";var a=r("5ca1"),i=r("2e08"),n=r("a25f"),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);a(a.P+a.F*o,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},f7d7:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("f576");function a(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return e=a+"-"+r+"-"+t,e}}}]);
//# sourceMappingURL=chunk-a8256bfe.07cdc4b6.js.map