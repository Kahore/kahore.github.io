(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e143d"],{"7a63":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade show modal-bg",class:{"modal-bg--show":e.isActive}},[a("div",{staticClass:"modal-dialog modal-dialog-centered row pt-5"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title text-center"},[e._v("Staff details")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return e.toggleModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),a("form",{staticClass:"form-group ml-2 mr-2",attrs:{id:"patient-details",role:"form"}},[a("div",{staticClass:"form-group",class:{"form-group--error":e.$v.staffInfo.first_name.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.staffInfo.first_name,expression:"staffInfo.first_name"}],staticClass:"form-control",attrs:{type:"text",name:"first_name",id:"first_name",required:"",placeholder:"First Name",value:""},domProps:{value:e.staffInfo.first_name},on:{input:function(t){t.target.composing||e.$set(e.staffInfo,"first_name",t.target.value)}}}),e.$v.staffInfo.first_name.required?e._e():a("div",{staticClass:"form-group__message--error"},[e._v("First name is required.")])]),a("div",{staticClass:"form-group",class:{"form-group--error":e.$v.staffInfo.last_name.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.staffInfo.last_name,expression:"staffInfo.last_name"}],staticClass:"form-control",class:{"form-group--error":e.$v.staffInfo.last_name.$error},attrs:{type:"text",name:"last_name",id:"last_name",required:"",placeholder:"Last Name",value:""},domProps:{value:e.staffInfo.last_name},on:{input:function(t){t.target.composing||e.$set(e.staffInfo,"last_name",t.target.value)}}}),e.$v.staffInfo.last_name.required?e._e():a("div",{staticClass:"form-group__message--error"},[e._v("Last name is required.")])]),a("div",{staticClass:"form-group",class:{"form-group--error":e.$v.staffInfo.email.$error}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.staffInfo.email,expression:"staffInfo.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",required:"",placeholder:"Email Address",value:""},domProps:{value:e.staffInfo.email},on:{input:function(t){t.target.composing||e.$set(e.staffInfo,"email",t.target.value)}}}),e.$v.staffInfo.email.required?e._e():a("div",{staticClass:"form-group__message--error"},[e._v("Email is required.")])]),a("div",{staticClass:"form-group",class:{"form-group--error":e.$v.staffInfo.password.$error}},[""==e.staffInfo.id?a("input",{directives:[{name:"model",rawName:"v-model",value:e.staffInfo.password,expression:"staffInfo.password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",required:"",placeholder:"Password"},domProps:{value:e.staffInfo.password},on:{input:function(t){t.target.composing||e.$set(e.staffInfo,"password",t.target.value)}}}):e._e(),e.$v.staffInfo.password.required?e._e():a("div",{staticClass:"form-group__message--error"},[e._v("Password is required.")]),e.$v.staffInfo.password.minLength?e._e():a("div",{staticClass:"form-group__message--error"},[e._v("Password must have at least "+e._s(e.$v.password.$params.minLength.min)+" letters.")])]),a("div",{staticClass:"form-group",class:{"form-group--error":e.$v.staffInfo.type.$error}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.staffInfo.type,expression:"staffInfo.type"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.staffInfo,"type",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select staff user type")]),a("option",{attrs:{value:"Admin"}},[e._v("Admin")]),a("option",{attrs:{value:"Clinician"}},[e._v("Clinician")]),a("option",{attrs:{value:"Lab"}},[e._v("Lab")])]),e.$v.staffInfo.type.required?e._e():a("div",{staticClass:"form-group__message--error"},[e._v("Type is required.")])]),a("div",{staticClass:"form-group",class:{"form-group--error":e.$v.staffInfo.status.$error}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.staffInfo.status,expression:"staffInfo.status"}],attrs:{name:"",id:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.staffInfo,"status",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Select staff status")]),a("option",{attrs:{value:"Active"}},[e._v("Active")]),a("option",{attrs:{value:"Inactive"}},[e._v("Inactive")])]),e.$v.staffInfo.status.required?e._e():a("div",{staticClass:"form-group__message--error"},[e._v("Status is required.")])]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-success w-100",attrs:{disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.saveStaff(e.staffInfo)}}},[e.isLoading?a("i",{staticClass:"fa fa-spinner fa-spin"}):e._e(),e._v("\n              Save Patient\n            ")])])])])])])},r=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("d3e3"),n=a("2f62"),f=a("ee2e"),l=a("b5ae");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"StaffInfoModal",data:function(){return{isActive:!1,isLoading:!1,mode:""}},validations:{staffInfo:{first_name:{required:l["required"]},last_name:{required:l["required"]},email:{required:l["required"],email:l["email"]},password:{required:Object(l["requiredIf"])((function(){return""===this.staffInfo.id})),minLength:Object(l["minLength"])(6)},type:{required:l["required"]},status:{required:l["required"]}}},computed:u({},Object(n["c"])(["staffInfo"])),methods:{saveStaff:function(e){if(this.$v.$touch(),!this.$v.$invalid){this.isLoading=!0;var t=this._isNew();t?this._addStaff(e):this._editStaff(e),this.isLoading=!1,this.toggleModal()}},_isNew:function(){return"edit"!==this.mode},_addStaff:function(e){var t=this,a=f["c"].firebase_.initializeApp(f["a"],"secondary");a.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(a){var s=u({},e,{id:a.user.uid});t.$store.dispatch("CREATE_STAFF",s)})).then((function(){a.delete()})).catch((function(e){console.log("TCL: _addStaff -> error",e)}))},_editStaff:function(e){this.$store.dispatch("EDIT_STAFF",e)},toggleModal:function(){this.isActive=!this.isActive}},mounted:function(){var e=this;i["a"].$on("STAFF_MODAL",(function(t){e.mode=t,e.toggleModal()}))},created:function(){this.isActive=!1}},m=c,v=a("2877"),p=Object(v["a"])(m,s,r,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0e143d.8f8a4750.js.map