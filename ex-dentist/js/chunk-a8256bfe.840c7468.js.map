{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./src/components/dentist/Patients/PatientsModal.vue?13ae","webpack:///src/components/dentist/Patients/PatientsModal.vue","webpack:///./src/components/dentist/Patients/PatientsModal.vue?fe2f","webpack:///./src/components/dentist/Patients/PatientsModal.vue","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./src/tools/dateSetter.js"],"names":["toLength","repeat","defined","module","exports","that","maxLength","fillString","left","S","String","stringLength","length","fillStr","undefined","intMaxLength","fillLen","stringFiller","call","Math","ceil","slice","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isActive","_v","attrs","on","$event","toggleModal","directives","name","rawName","value","patientInfo","expression","domProps","target","composing","$set","$v","first_name","$error","required","_e","last_name","date_of_birth","email","gender","$$selectedVal","Array","prototype","filter","options","o","selected","map","val","_value","multiple","_m","practice_centre_id","_l","practice","index","key","_s","practices","acl","staticStyle","isLoading","preventDefault","savePatient","staticRenderFns","props","type","default","data","validations","computed","methods","$touch","$invalid","isNew","$store","dispatch","_isNew","id","mounted","EventBus","payload","created","component","toInteger","count","str","res","n","Infinity","RangeError","$export","$pad","userAgent","WEBKIT_BUG","test","P","F","padStart","arguments","getDate","today","Date","dd","mm","getMonth","yyyy","getFullYear"],"mappings":"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","file":"js/chunk-a8256bfe.840c7468.js","sourcesContent":["// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade show modal-bg\",class:{'modal-bg--show': _vm.isActive}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered row pt-5\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title text-center\"},[_vm._v(\"Patient details\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.toggleModal()}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"Ã—\")])])]),_c('form',{staticClass:\"form-group ml-2 mr-2\",attrs:{\"id\":\"patient-details\",\"role\":\"form\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patientInfo.id),expression:\"patientInfo.id\"}],attrs:{\"type\":\"hidden\"},domProps:{\"value\":(_vm.patientInfo.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.patientInfo, \"id\", $event.target.value)}}}),_c('div',{staticClass:\"form-group\",class:{ 'form-group--error': _vm.$v.patientInfo.first_name.$error }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patientInfo.first_name),expression:\"patientInfo.first_name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"first_name\",\"id\":\"first_name\",\"required\":\"\",\"placeholder\":\"First Name\",\"value\":\"\"},domProps:{\"value\":(_vm.patientInfo.first_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.patientInfo, \"first_name\", $event.target.value)}}}),(!_vm.$v.patientInfo.first_name.required)?_c('div',{staticClass:\"form-group__message--error\"},[_vm._v(\"First name is required.\")]):_vm._e()]),_c('div',{staticClass:\"form-group\",class:{ 'form-group--error': _vm.$v.patientInfo.last_name.$error }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patientInfo.last_name),expression:\"patientInfo.last_name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"last_name\",\"id\":\"last_name\",\"required\":\"\",\"placeholder\":\"Last Name\",\"value\":\"\"},domProps:{\"value\":(_vm.patientInfo.last_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.patientInfo, \"last_name\", $event.target.value)}}}),(!_vm.$v.patientInfo.last_name.required)?_c('div',{staticClass:\"form-group__message--error\"},[_vm._v(\"Last name is required.\")]):_vm._e()]),_c('div',{staticClass:\"form-group\",class:{ 'form-group--error': _vm.$v.patientInfo.date_of_birth.$error }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patientInfo.date_of_birth),expression:\"patientInfo.date_of_birth\"}],staticClass:\"form-control\",attrs:{\"type\":\"date\",\"name\":\"date_of_birth\",\"id\":\"date_of_birth\",\"required\":\"\",\"placeholder\":\"Date Of Birth\",\"value\":\"\"},domProps:{\"value\":(_vm.patientInfo.date_of_birth)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.patientInfo, \"date_of_birth\", $event.target.value)}}}),(!_vm.$v.patientInfo.date_of_birth.required)?_c('div',{staticClass:\"form-group__message--error\"},[_vm._v(\"Date of birth is required.\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patientInfo.email),expression:\"patientInfo.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"email\",\"required\":\"\",\"placeholder\":\"Email Address\",\"value\":\"\"},domProps:{\"value\":(_vm.patientInfo.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.patientInfo, \"email\", $event.target.value)}}}),(!_vm.$v.patientInfo.email.required)?_c('div',{staticClass:\"form-group__message--error\"},[_vm._v(\"Email address is required.\")]):_vm._e(),(!_vm.$v.patientInfo.email.email)?_c('div',{staticClass:\"form-group__message--error\"},[_vm._v(\"Please, type a valid email.\")]):_vm._e()]),_c('div',{staticClass:\"form-group\",class:{ 'form-group--error': _vm.$v.patientInfo.gender.$error }},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patientInfo.gender),expression:\"patientInfo.gender\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.patientInfo, \"gender\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"Select patient gender\")]),_c('option',{attrs:{\"value\":\"Female\"}},[_vm._v(\"Female\")]),_c('option',{attrs:{\"value\":\"Male\"}},[_vm._v(\"Male\")]),_c('option',{attrs:{\"value\":\"Another\"}},[_vm._v(\"Another\")])]),(!_vm.$v.patientInfo.gender.required)?_c('div',{staticClass:\"form-group__message--error\"},[_vm._v(\"Patient gender is required.\")]):_vm._e()]),_vm._m(0),_c('div',{staticClass:\"form-group\",class:{ 'form-group--error': _vm.$v.patientInfo.practice_centre_id.$error }},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.patientInfo.practice_centre_id),expression:\"patientInfo.practice_centre_id\"}],attrs:{\"name\":\"\",\"id\":\"\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.patientInfo, \"practice_centre_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"Select practice centre\")]),_vm._l((_vm.practices),function(practice,index){return _c('option',{key:index,domProps:{\"value\":practice.name}},[_vm._v(_vm._s(practice.name))])})],2),(_vm.practices.length ===0)?_c('span',{staticClass:\"bg-warning ml-1\"},[_vm._v(\"You should add practice before continue\")]):_vm._e(),(!_vm.$v.patientInfo.practice_centre_id.required)?_c('div',{staticClass:\"form-group__message--error\"},[_vm._v(\"Practice centre is required.\")]):_vm._e()]),(_vm.acl==='edit')?_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-success\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":_vm.isLoading},on:{\"click\":function($event){$event.preventDefault();return _vm.savePatient(_vm.patientInfo)}}},[(_vm.isLoading)?_c('i',{staticClass:\"fa fa-spinner fa-spin\"}):_vm._e(),_vm._v(\"\\n              Save Patient\\n            \")])]):_vm._e()])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"file\",\"name\":\"profile_picture\",\"id\":\"profile_picture\",\"required\":\"\",\"placeholder\":\"Profile Picture\",\"value\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"modal fade show modal-bg\"\r\n    :class=\"{'modal-bg--show': isActive}\">\r\n    <div class=\"modal-dialog modal-dialog-centered row pt-5\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title text-center\">Patient details</h5>\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" @click=\"toggleModal()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n          <form id=\"patient-details\" role=\"form\" class=\"form-group ml-2 mr-2\">\r\n            <input type=\"hidden\" v-model=\"patientInfo.id\">\r\n            <div\r\n              class=\"form-group\"\r\n              :class=\"{ 'form-group--error': $v.patientInfo.first_name.$error }\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"first_name\"\r\n                id=\"first_name\"\r\n                required\r\n                class=\"form-control\"\r\n                placeholder=\"First Name\"\r\n                value=\"\"\r\n                v-model=\"patientInfo.first_name\">\r\n              <div class=\"form-group__message--error\" v-if=\"!$v.patientInfo.first_name.required\">First name is required.</div>\r\n            </div>\r\n            <div\r\n              class=\"form-group\"\r\n              :class=\"{ 'form-group--error': $v.patientInfo.last_name.$error }\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"last_name\"\r\n                id=\"last_name\"\r\n                required\r\n                class=\"form-control\"\r\n                placeholder=\"Last Name\"\r\n                value=\"\"\r\n                v-model=\"patientInfo.last_name\">\r\n              <div class=\"form-group__message--error\" v-if=\"!$v.patientInfo.last_name.required\">Last name is required.</div>\r\n            </div>\r\n            <div\r\n              class=\"form-group\"\r\n              :class=\"{ 'form-group--error': $v.patientInfo.date_of_birth.$error }\">\r\n              <input\r\n                type=\"date\"\r\n                name=\"date_of_birth\"\r\n                id=\"date_of_birth\"\r\n                required\r\n                class=\"form-control\"\r\n                placeholder=\"Date Of Birth\"\r\n                value=\"\"\r\n                v-model=\"patientInfo.date_of_birth\">\r\n              <div class=\"form-group__message--error\" v-if=\"!$v.patientInfo.date_of_birth.required\">Date of birth is required.</div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                id=\"email\"\r\n                required\r\n                class=\"form-control\"\r\n                placeholder=\"Email Address\"\r\n                value=\"\"\r\n                v-model=\"patientInfo.email\">\r\n              <div class=\"form-group__message--error\" v-if=\"!$v.patientInfo.email.required\">Email address is required.</div>\r\n              <div class=\"form-group__message--error\" v-if=\"!$v.patientInfo.email.email\">Please, type a valid email.</div>\r\n            </div>\r\n            <div\r\n              class=\"form-group\"\r\n              :class=\"{ 'form-group--error': $v.patientInfo.gender.$error }\">\r\n              <select v-model=\"patientInfo.gender\">\r\n                <option value=\"\" disabled selected>Select patient gender</option>\r\n                <option value=\"Female\">Female</option>\r\n                <option value=\"Male\">Male</option>\r\n                <option value=\"Another\">Another</option>\r\n              </select>\r\n              <div class=\"form-group__message--error\" v-if=\"!$v.patientInfo.gender.required\">Patient gender is required.</div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <input\r\n                type=\"file\"\r\n                name=\"profile_picture\"\r\n                id=\"profile_picture\"\r\n                required\r\n                class=\"form-control\"\r\n                placeholder=\"Profile Picture\"\r\n                value=\"\"\r\n                >\r\n            </div>\r\n            <div\r\n              class=\"form-group\"\r\n              :class=\"{ 'form-group--error': $v.patientInfo.practice_centre_id.$error }\">\r\n              <select name=\"\" id=\"\" v-model=\"patientInfo.practice_centre_id\">\r\n                <option value=\"\" disabled selected>Select practice centre</option>\r\n                <option\r\n                  v-for=\"(practice, index) in practices\"\r\n                  :key=\"index\" :value=\"practice.name\">{{practice.name}}</option>\r\n              </select>\r\n              <span\r\n                v-if=\"practices.length ===0\"\r\n                class=\"bg-warning ml-1\">You should add practice before continue</span>\r\n              <div class=\"form-group__message--error\" v-if=\"!$v.patientInfo.practice_centre_id.required\">Practice centre is required.</div>\r\n            </div>\r\n            <div class=\"form-group\" v-if=\"acl==='edit'\">\r\n              <button\r\n                class=\"btn btn-success\"\r\n                style=\"width: 100%\"\r\n                @click.prevent=\"savePatient(patientInfo)\"\r\n                :disabled=\"isLoading\">\r\n                <i\r\n                v-if=\"isLoading\"\r\n                class=\"fa fa-spinner fa-spin\" />\r\n                Save Patient\r\n              </button>\r\n            </div>\r\n          </form>\r\n      </div>\r\n      <!-- .modal-content -->\r\n    </div>\r\n    <!-- .modal-dialog -->\r\n  </div>\r\n  <!-- .modal -->\r\n</template>\r\n\r\n<script>\r\nimport EventBus from '../../../EventBus'\r\nimport { mapGetters } from 'vuex'\r\nimport { getDate } from '../../../tools/dateSetter'\r\nimport { required, email } from 'vuelidate/lib/validators'\r\nexport default {\r\n  name: 'DentistPatientModal',\r\n  props: {\r\n    acl: {\r\n      type: String,\r\n      required: true,\r\n      default: 'view'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      isActive: false,\r\n      isLoading: false\r\n    }\r\n  },\r\n  validations: {\r\n    patientInfo: {\r\n      first_name: {\r\n        required\r\n      },\r\n      last_name: {\r\n        required\r\n      },\r\n      date_of_birth: {\r\n        required\r\n      },\r\n      email: {\r\n        required,\r\n        email\r\n      },\r\n      gender: {\r\n        required\r\n      },\r\n      practice_centre_id: {\r\n        required\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['patientInfo', 'currentUserId', 'practices'])\r\n  },\r\n  methods: {\r\n    savePatient (patientInfo) {\r\n      this.$v.$touch()\r\n      if (!this.$v.$invalid) {\r\n        this.isLoading = true\r\n        let isNew = this._isNew(patientInfo)\r\n        if (isNew) {\r\n          let today = getDate()\r\n          let dentistId = this.currentUserId\r\n          patientInfo = { ...patientInfo, RegistrationDate: today, dentistId: dentistId, Status: 'Active' }\r\n          this.$store.dispatch('ADD_PATIENT', patientInfo)\r\n        } else {\r\n          this.$store.dispatch('EDIT_PATIENT', patientInfo)\r\n        }\r\n        this.isLoading = false\r\n        this.toggleModal()\r\n      }\r\n    },\r\n    _isNew (patientInfo) {\r\n      if (typeof patientInfo.id === 'undefined') {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    toggleModal () {\r\n      this.isActive = !this.isActive\r\n    }\r\n  },\r\n  mounted () {\r\n    EventBus.$on('PATIENT_MODAL', payload => {\r\n      if (typeof payload !== 'undefined') {\r\n        this.acl = payload\r\n      }\r\n      this.toggleModal()\r\n    })\r\n  },\r\n  created () {\r\n    // MEMO: reset state if user not close modal and select another page with this modal\r\n    this.isActive = false\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PatientsModal.vue?vue&type=template&id=674c08b2&\"\nimport script from \"./PatientsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./PatientsModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","export function getDate () {\r\n  let today = new Date()\r\n  let dd = String(today.getDate()).padStart(2, '0')\r\n  let mm = String(today.getMonth() + 1).padStart(2, '0')\r\n  let yyyy = today.getFullYear()\r\n\r\n  today = yyyy + '-' + mm + '-' + dd\r\n  return today\r\n}\r\n"],"sourceRoot":""}